<div ng-class="vm.settings.darkModeEnabled ? 'theme-dark' : 'theme-default'" ng-if="vm.initialised">
  <div class="container" ng-class="{ 'search': vm.view.current === vm.view.views.search }">
    <div id="working-panel" class="overlay animate" ng-include="'./assets/working.html'" ng-show="vm.working.show"
         ng-class="{ 'darker-overlay': vm.view.current !== vm.view.views.loading, 'fullsize': vm.view.current === vm.view.views.loading }">
    </div>

    <alert-panel class="animate-fade-in animate-fade-out" alert="vm.alert" close="vm.closeAlert"
                 ng-if="vm.alert.show && !vm.utilitySvc.isMobilePlatform(vm.platformName)"></alert-panel>

    <div id="login-panel" class="view animate" ng-if="vm.view.current === vm.view.views.login">
      <div class="view-content" ng-include="'./assets/login.html'"></div>
    </div>

    <div id="search-panel" class="view animate"
         ng-class="{ 'search-bar-bottom': vm.settings.displaySearchBarBeneathResults }"
         ng-if="vm.view.current === vm.view.views.search">
      <div class="view-content" ng-include="'./assets/search.html'"></div>
    </div>

    <div id="bookmark-panel" class="view animate" ng-if="vm.view.current === vm.view.views.bookmark">
      <div class="view-content" ng-include="'./assets/bookmark.html'"></div>
    </div>

    <div id="settings-panel" class="view animate" ng-if="vm.view.current === vm.view.views.settings">
      <div class="view-content" ng-include="'./assets/settings.html'"></div>
    </div>

    <help-panel class="view view-overlay animate" close="vm.displayMainView" load-pages="vm.getHelpPages"
                ng-if="vm.view.current === vm.view.views.help"></help-panel>

    <support-panel class="view view-overlay animate" close="vm.displayMainView" open-url="vm.openUrl"
                   ng-if="vm.view.current === vm.view.views.support"></support-panel>

    <updated-panel class="view view-overlay animate" close="vm.closeUpdatedPanel"
                   display-release-notes="vm.displayReleaseNotes" ng-if="vm.view.current === vm.view.views.updated">
    </updated-panel>

    <permissions-panel class="view view-overlay animate" close="vm.displayMainView" request="vm.permissions_Request"
                       ng-if="vm.view.current === vm.view.views.permissions">
    </permissions-panel>

    <div id="scan-panel" class="view" ng-if="vm.view.current === vm.view.views.scan">
      <div class="view-content" ng-include="'./assets/scan.html'"></div>
    </div>

    <qr-panel class="darker-overlay animate-fade-in animate-fade-out" close="vm.closeQrPanel"
              copy-text-to-clipboard="vm.copyTextToClipboard" service-url="vm.sync.service.url" sync-id="vm.sync.id"
              ng-if="vm.settings.displayQrPanel"></qr-panel>
  </div>

  <div class="background animate" ng-if="vm.view.current !== undefined && vm.view.current !== vm.view.views.scan">
    <div class="background-img" ng-if="vm.view.current === vm.view.views.loading || vm.view.current === vm.view.views.login || 
      vm.view.current === vm.view.views.support || vm.view.current === vm.view.views.permissions || 
      vm.view.current === vm.view.views.updated || vm.view.current === vm.view.views.help">
    </div>
  </div>
</div>
